

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="python" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="python" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Data structure &mdash; Arctern version : 0.2.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Reading and writing files" href="read_and_write_file.html" />
    <link rel="prev" title="Spatiotemporal Analysis" href="spatiotemporal_analysis.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Arctern
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../quick_start/quick_start.html">Quick Start</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../feature_description.html">Feature Description</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="spatiotemporal_analysis.html">Spatiotemporal Analysis</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Data structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#geoseries">GeoSeries</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="read_and_write_file.html">Reading and writing files</a></li>
<li class="toctree-l3"><a class="reference internal" href="geometric_manipulation.html">Basic manipulations of geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="convert_from_and_to_geopandas_geoseries.html">Convert with GeoPandas GeoSeries</a></li>
<li class="toctree-l3"><a class="reference internal" href="spatial_relationship_operation.html">Spatial relationship operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="map_match.html">Map match</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_geometry.html">Plot methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="crs_and_transform.html">Coordinate reference system</a></li>
<li class="toctree-l3"><a class="reference internal" href="aggregation.html">Aggregation</a></li>
<li class="toctree-l3"><a class="reference internal" href="indexing_selecting_data.html">Indexing and selecting data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../visualization/visualization.html">Visualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/api_reference.html">API Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Arctern</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../feature_description.html">Feature Description</a> &raquo;</li>
        
          <li><a href="spatiotemporal_analysis.html">Spatiotemporal Analysis</a> &raquo;</li>
        
      <li>Data structure</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/feature_description/spatiotemporal_analysis/data_structure.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="data-structure">
<h1>Data structure<a class="headerlink" href="#data-structure" title="Permalink to this headline">¶</a></h1>
<div class="section" id="geoseries">
<h2>GeoSeries<a class="headerlink" href="#geoseries" title="Permalink to this headline">¶</a></h2>
<p>GeoSeries is an array that stores and manipulates geometric datasets. By extending pandas Series, GeoSeries internally stores objects in WKB format, and can batch calculate and operate on the stored elements like pandas Series.</p>
<div class="section" id="initializing">
<h3>Initializing<a class="headerlink" href="#initializing" title="Permalink to this headline">¶</a></h3>
<p>GeoSeries internally stores geometry in WKB format and accepts data in WKT or WKB format as input to initialize GeoSeries objects.</p>
<div class="section" id="initializing-from-wkt-format-data">
<h4>Initializing from WKT format data<a class="headerlink" href="#initializing-from-wkt-format-data" title="Permalink to this headline">¶</a></h4>
<p>You can put multiple string data in WKT format into a list, numpy.ndarray, or pandas.Series, and then pass in the GeoSeries constructor to create GeoSeries objects.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;POINT(1 1)&#39;</span><span class="p">,</span> <span class="s1">&#39;POINT(1 3)&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">arctern</span><span class="o">.</span><span class="n">GeoSeries</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">0    POINT (1 1)</span>
<span class="go">1    POINT (1 3)</span>
<span class="go">dtype: GeoDtype</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">arctern</span><span class="o">.</span><span class="n">GeoSeries</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">0    POINT (1 1)</span>
<span class="go">1    POINT (1 3)</span>
<span class="go">dtype: GeoDtype</span>
</pre></div>
</div>
</div>
<div class="section" id="initializing-from-wkb-format-data">
<h4>Initializing from WKB format data<a class="headerlink" href="#initializing-from-wkb-format-data" title="Permalink to this headline">¶</a></h4>
<p>You can put multiple string data in WKB format into a list, numpy.ndarray, or pandas.Series, and then pass the GeoSeries constructor to create GeoSeries objects.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\xf0</span><span class="s1">?</span><span class="se">\x00\x00\x00\x00\x00\x00\xf0</span><span class="s1">?&#39;</span><span class="p">,</span>
<span class="gp">... </span>       <span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\xf0</span><span class="s1">?</span><span class="se">\x00\x00\x00\x00\x00\x00\x08</span><span class="s1">@&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">arctern</span><span class="o">.</span><span class="n">GeoSeries</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">0    POINT (1 1)</span>
<span class="go">1    POINT (1 3)</span>
<span class="go">dtype: GeoDtype</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="method-overview">
<h3>Method overview<a class="headerlink" href="#method-overview" title="Permalink to this headline">¶</a></h3>
<p>GeoSeries implements common operations on geometry (unary operations and binary operations).</p>
<ul class="simple">
<li><p>When performing a unary operation on a GeoSeries object, Arctern performs the operation on all the geometry stored in the GeoSeries object.</p></li>
<li><p>When performing binary operations on two GeoSeries objects, Arctern performs one-to-one operations on each of the geometries in the two GeoSeries objects according to the index.</p></li>
<li><p>When performing a binary operation on a GeoSeries object and a geometry (object in WKB format), Arctern performs an operation on each geometry in the GeoSeries object and this geometry.</p></li>
</ul>
<p>If the result of the operation is geometry, a new GeoSeries object is returned, otherwise a Pandas Series object is returned.</p>
<p>The following lists some of the GeoSeries methods, including operations on geometry measurement, relationship calculation, and conversion. For detailed interface introduction, please see <a target="_blank" class="reference external" href="../../api_reference/standalone_api/geoseries.html">API Reference</a>.</p>
<div class="section" id="geometric-measurement">
<h4>Geometric measurement<a class="headerlink" href="#geometric-measurement" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong><a target="_blank" class="reference external" href="../../api_reference/standalone_api/api/arctern.GeoSeries.is_valid.html">GeoSeries.is_valid</a>:</strong> Check whether each geometry in the GeoSeries object is valid.</p></li>
<li><p><strong><a target="_blank" class="reference external" href="../../api_reference/standalone_api/api/arctern.GeoSeries.area.html">GeoSeries.area</a>:</strong> Calculate the area of each geometry in a GeoSeries object.</p></li>
<li><p><strong><a target="_blank" class="reference external" href="../../api_reference/standalone_api/api/arctern.GeoSeries.distance.html">GeoSeries.distance</a>:</strong> For each geometry in the GeoSeries object, create a geometry with the maximum distance not greater than the given distance.</p></li>
<li><p><strong><a target="_blank" class="reference external" href="../../api_reference/standalone_api/api/arctern.GeoSeries.distance_sphere.html">GeoSeries.distance_sphere</a>:</strong> For each geometry in the GeoSeries object, the minimum distance between two points on the earth's surface is calculated based on the latitude and longitude coordinates. This method uses the earth and radius defined by the SRID.</p></li>
<li><p><strong><a target="_blank" class="reference external" href="../../api_reference/standalone_api/api/arctern.GeoSeries.hausdorff_distance.html">GeoSeries.hausdorff_distance</a>:</strong> For each geometry in the GeoSeries object, check the Hausdorff distance between it and the geometry at the same position in the other GeoSeries object. This distance is to measure the similarity between two geometries.</p></li>
</ul>
</div>
<div class="section" id="geometric-relationship-operation">
<h4>Geometric relationship operation<a class="headerlink" href="#geometric-relationship-operation" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong><a target="_blank" class="reference external" href="../../api_reference/standalone_api/api/arctern.GeoSeries.touches.html">GeoSeries.touches</a>:</strong> For each geometry in the GeoSeries object, check whether it touches the geometry at the same position in the other GeoSeries object. &quot;touches&quot; means that two geometries have a common point on the boundary.</p></li>
<li><p><strong><a target="_blank" class="reference external" href="../../api_reference/standalone_api/api/arctern.GeoSeries.overlaps.html">GeoSeries.overlaps</a>:</strong> For each geometry in the GeoSeries object, check whether it overlaps the geometry at the same position in the other GeoSeries object. &quot;overlaps&quot; means that the two geometries cross and do not contain each other.</p></li>
<li><p><strong><a target="_blank" class="reference external" href="../../api_reference/standalone_api/api/arctern.GeoSeries.intersects.html">GeoSeries.intersects</a>:</strong> For each geometry in the GeoSeries object, check whether it intersects with the geometry at the same position in the other GeoSeries object.</p></li>
</ul>
</div>
<div class="section" id="geometric-conversion">
<h4>Geometric conversion<a class="headerlink" href="#geometric-conversion" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong><a target="_blank" class="reference external" href="../../api_reference/standalone_api/api/arctern.GeoSeries.precision_reduce.html">GeoSeries.precision_reduce</a>:</strong> For each geometry in the GeoSeries object, the geometry with reduced coordinate accuracy is created according to the given valid digits number.</p></li>
<li><p><strong><a target="_blank" class="reference external" href="../../api_reference/standalone_api/api/arctern.GeoSeries.make_valid.html">GeoSeries.make_valid</a>:</strong> For each geometry in the GeoSeries object, create a new valid geometry based on it. During the construction of the new geometry, no vertices of the original geometry are deleted. If the original geometry is already valid, then return the original geometry directly.</p></li>
<li><p><strong><a target="_blank" class="reference external" href="../../api_reference/standalone_api/api/arctern.GeoSeries.curve_to_line.html">GeoSeries.curve_to_line</a>:</strong> For each geometry in the GeoSeries object, calculate its approximate representation. The approximate representation method is to convert the curve in each geometric figure into an approximate linear representation.</p></li>
</ul>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="read_and_write_file.html" class="btn btn-neutral float-right" title="Reading and writing files" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="spatiotemporal_analysis.html" class="btn btn-neutral float-left" title="Spatiotemporal Analysis" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, zilliz
      <span class="lastupdated">
        Last updated on Jun 16, 2020.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>